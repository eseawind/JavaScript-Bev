<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge;chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="demo/css/demo3.css">
    <script src="common/js/jquery.js"></script>
    <script src="demo/js/bevInclude.js"></script><!--引入bev入口脚本-->
    <script src="demo/libs/SuperMap.Include.js"></script><!--引入SuperMap iClient For JavaScript类库-->
    <script src="demo/js/demo3.js"></script>
    <style type="text/css">
        #mapContainer {
            width: 100%;
            height: 100%;
            position: absolute;
            /*z-index: -5;*/
        }
    </style>
    <script>
        var map, layer0;
        function init() {
            {_logoImageUpload_}
            {_logoTitle_}
            {_themeSelect_}
            initDemo();
            window.center = new SuperMap.LonLat({_longitude_},{_latitude_});
            window.zoom = {_zoomLevel_};
            window.mapControlList = getMapControlList("{_mapControls_}",3);
            window.overlayParams = {_overlayMapServerice_};
            {_mapServiceSelect_}

            {_measureControl_}
            {_geolocateControl_}
            {_drawControl_}
            {_loadJSON_}
            {_queryControl_}

            bindMenu2Nav(nav,baseToolsMenu,"tool-icon-20","基本操作");
            bindMenu2Nav(nav,restMenu,"tool-icon-20","REST服务");
        }

        function setLogoImg(paraStr){
            if(paraStr){
                var tp = paraStr.split(",");
                var isSelect = tp[0];
                var imgSrc = tp[1];

                if(isSelect=="1"){
                    $("#logoImg").css({
                        "display":"inline"
                    })
                    .attr({
                        "src":"demo/img/"+imgSrc
                    });
                }
                else{
                    $("#logoImg").css({
                        "display":"none"
                    });
                }
            }
        }

        function setLogoTitle(paraStr){
            if(paraStr){
                var tp = paraStr.split(",");
                var isSelect = tp[0];
                var text = tp[1];

                $("#logoTitle").html(text).css({
                    "display":(isSelect=="1")?"inline":"none"
                });
                document.title = text;
            }
        }
    </script>


</head>
<body onload="init()" style="position: absolute;height: 100%;width: 100%;">
<div id="head1">
    <span id="logo" class="head_child bev-logo"><img id="logoImg" style="display: none;height:56px;"/><span id="logoTitle"></span></span>
</div>
<div id="canvas">
    <div id="mapContainer"></div>
    <span id="toolbar"></span>
</div>
</body>
<script type="text/javascript">
    (function(){//控制页面的自适应
        window.resizeFunctions = [];
        var a = function(){
            var b = document.body;
            var a = b.clientHeight;
            var w = b.clientWidth;
            var c = window.resizeFunctions;
            for(var i=0;i< c.length;c++){
                if(c[i]){
                    try{c[i]();}catch(e){}
                }
            }
            var d = document.getElementById("canvas");
//            var d1 = document.getElementById("mapContainer");
            d.style.height = (a - 80) + "px";//d1.style.height =
            d.style.width = ( w - 40) + "px";//d1.style.width =
        }
        a();
        if(window.addEventListener){
            window.addEventListener("resize",a);
        }
        else{
            window.attachEvent("onresize",a);
        }
    })();
</script>
</html>
